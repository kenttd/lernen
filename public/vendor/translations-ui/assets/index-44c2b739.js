import{_ as W}from"./layout-dashboard.vue_vue_type_script_setup_true_lang-a2160ce9.js";import{l as Z,_ as J}from"./lodash-71120cf9.js";import{u as M,_ as Q,a as X}from"./use-confirmation-dialog-743de5df.js";import{_ as Y}from"./base-button.vue_vue_type_script_setup_true_lang-32c01ad6.js";import{_ as ee}from"./icon-trash-feaa4946.js";import{_ as te}from"./icon-plus-328cbad7.js";import{_ as se}from"./input-native-select.vue_vue_type_script_setup_true_lang-92c44492.js";import{_ as oe}from"./input-text.vue_vue_type_script_setup_true_lang-4cb4eef4.js";import{_ as le}from"./icon-arrow-right-28a34bf1.js";import{d as ae,r as p,p as b,q as ne,O as k,f as ie,o as r,c as f,a as s,w as a,b as e,t as C,g as h,j as g,n as re,u as d,m as z,F as D,h as de,Z as ce,i as ue}from"./app-8e9cf622.js";import{_ as me}from"./flag.vue_vue_type_script_setup_true_lang-1bc3dea0.js";import{_ as _e}from"./source-phrase-item.vue_vue_type_script_setup_true_lang-9a6b4318.js";import"./icon-publish-2375a513.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./transition-ba5cebc1.js";import"./icon-arrow-left-0bff9eba.js";import"./dialog-54d9d66a.js";import"./use-input-size-3ab6f24d.js";import"./icon-pencil-9b7b7b9b.js";const pe={class:"w-full bg-white shadow"},fe={class:"mx-auto flex w-full max-w-7xl items-center justify-between px-6 lg:px-8"},he={class:"flex w-full items-center"},ge={class:"flex w-full items-center gap-3 py-4"},ve={class:"h-5 shrink-0"},xe={class:"flex items-center space-x-2"},we=["textContent"],ye=["textContent"],be={class:"mx-auto max-w-7xl px-6 py-10 lg:px-8"},ke={class:"w-full divide-y overflow-hidden rounded-md bg-white shadow"},Ce={class:"flex w-full flex-wrap items-center justify-between gap-4 px-4 py-3 sm:flex-nowrap"},ze={class:"w-full max-w-full md:max-w-sm"},De={class:"w-full max-w-full md:max-w-sm"},Se={class:"w-full shadow-md"},je={class:"flex h-14 w-full divide-x"},Fe={class:"flex w-12 items-center justify-center p-4"},$e=e("div",{class:"grid w-full grid-cols-2 divide-x"},[e("div",{class:"flex w-full items-center justify-start px-4"},[e("span",{class:"text-sm font-medium text-gray-400"},"Key")]),e("div",{class:"flex w-full items-center justify-start px-4"},[e("span",{class:"text-sm font-medium text-gray-400"},"String")])],-1),Ve={class:"grid w-36 grid-cols-2 divide-x"},Be={class:"flex h-full"},Ie={class:"flex w-full max-w-full"},Ae=["disabled"],Ne={class:"flex flex-col p-6"},Te=e("span",{class:"text-xl font-medium text-gray-700"},"Are you sure?",-1),Le=e("span",{class:"mt-2 text-sm text-gray-500"}," This action cannot be undone, This will permanently delete the selected phrases and all of their translations. ",-1),Ee={class:"mt-4 flex gap-4"},lt=ae({__name:"index",props:{phrases:{},translation:{},files:{},filter:{}},setup(S){var x,w;const n=S,c=p(((x=n.filter)==null?void 0:x.keyword)||""),u=p(((w=n.filter)==null?void 0:w.translationFile)||""),j=b(()=>n.files.map(t=>({value:t.id,label:t.nameWithExtension})));ne([c,u],Z.debounce(()=>{k.get(route("ltu.source_translation"),{filter:{keyword:c.value||void 0,translationFile:u.value||void 0}},{preserveState:!0,preserveScroll:!0,only:["phrases"]})},300));const o=p([]),{loading:F,showDialog:$,openDialog:v,performAction:V,closeDialog:B}=M(),I=async()=>{await V(()=>k.post(route("ltu.source_translation.delete_phrases"),{selected_ids:o.value},{preserveScroll:!0,onSuccess:()=>{o.value=[]}}))};function A(){o.value.length===n.phrases.data.length?o.value=[]:o.value=n.phrases.data.map(t=>t.id)}const N=b(()=>o.value.length===Object.keys(n.phrases.data).length);return(t,i)=>{const T=ce,L=me,m=ue,E=le,O=oe,P=se,K=Q,U=te,q=ee,y=Y,G=X,H=J,R=W,_=ie("tooltip");return r(),f(D,null,[s(T,{title:"Base Language"}),s(R,null,{default:a(()=>[e("div",pe,[e("div",fe,[e("div",he,[e("div",ge,[s(m,{href:t.route("ltu.source_translation"),class:"flex items-center gap-2 rounded-md border border-transparent bg-gray-50 px-2 py-1 hover:border-blue-400 hover:bg-blue-100"},{default:a(()=>[e("div",ve,[s(L,{"country-code":t.translation.language.code,width:"w-5"},null,8,["country-code"])]),e("div",xe,[e("div",{class:"text-sm font-semibold text-gray-600",textContent:C(t.translation.language.name)},null,8,we)])]),_:1},8,["href"]),e("div",{class:"rounded-md border bg-white px-1.5 py-0.5 text-sm text-gray-500",textContent:C(t.translation.language.code)},null,8,ye)])]),h((r(),g(m,{href:t.route("ltu.translation.index"),class:"flex size-10 items-center justify-center rounded-full bg-gray-100 p-1 hover:bg-gray-200"},{default:a(()=>[s(E,{class:"size-6 text-gray-400"})]),_:1},8,["href"])),[[_,"Go back"]])])]),e("div",be,[e("div",ke,[e("div",Ce,[e("div",ze,[s(O,{modelValue:c.value,"onUpdate:modelValue":i[0]||(i[0]=l=>c.value=l),placeholder:"Search by key or value",size:"md"},null,8,["modelValue"])]),e("div",De,[s(P,{id:"translationFile",modelValue:u.value,"onUpdate:modelValue":i[1]||(i[1]=l=>u.value=l),size:"md",placeholder:"Filter by file",items:j.value},null,8,["modelValue","items"])])]),e("div",Se,[e("div",je,[e("div",Fe,[s(K,{disabled:!t.phrases.data.length,checked:N.value,onClick:A},null,8,["disabled","checked"])]),$e,e("div",Ve,[h((r(),g(m,{href:t.route("ltu.source_translation.add_source_key"),class:"group flex items-center justify-center hover:bg-blue-50"},{default:a(()=>[s(U,{class:"size-5 text-gray-400 group-hover:text-blue-600"})]),_:1},8,["href"])),[[_,"Add New Key"]]),e("div",Be,[e("div",Ie,[h((r(),f("button",{type:"button",class:re(["relative inline-flex size-14 select-none items-center justify-center text-sm font-medium uppercase tracking-wide text-gray-400 no-underline outline-none transition-colors duration-150 ease-out",{"cursor-not-allowed":!o.value.length,"cursor-pointer":o.value.length,"hover:bg-red-50 hover:text-red-600":o.value.length,"bg-gray-50":!o.value.length}]),disabled:!o.value.length,onClick:i[2]||(i[2]=(...l)=>d(v)&&d(v)(...l))},[s(q,{class:"size-5"})],10,Ae)),[[_,o.value.length?"Delete selected":"Select phrases to delete"]])])]),s(G,{size:"sm",show:d($)},{default:a(()=>[e("div",Ne,[Te,Le,e("div",Ee,[s(y,{variant:"secondary",type:"button",size:"lg","full-width":"",onClick:d(B)},{default:a(()=>[z(" Cancel ")]),_:1},8,["onClick"]),s(y,{variant:"danger",type:"button",size:"lg","is-loading":d(F),"full-width":"",onClick:I},{default:a(()=>[z(" Delete ")]),_:1},8,["is-loading"])])])]),_:1},8,["show"])])])]),(r(!0),f(D,null,de(t.phrases.data,l=>(r(),g(_e,{key:l.uuid,phrase:l,"selected-ids":o.value},null,8,["phrase","selected-ids"]))),128)),s(H,{links:t.phrases.links,meta:t.phrases.meta},null,8,["links","meta"])])])]),_:1})],64)}}});export{lt as default};
