import{_ as $}from"./dialog.vue_vue_type_script_setup_true_lang-a6bff3c6.js";import{_ as z}from"./base-button.vue_vue_type_script_setup_true_lang-32c01ad6.js";import{o as s,c as i,b as e,d as C,p as f,j as m,n as x,u as t,$ as j,x as E,a4 as T,r as k,a as u,w as p,m as v,l as b,F as Z,K as A,O,a5 as L,Z as M}from"./app-8e9cf622.js";import{r as N}from"./ExclamationCircleIcon-8871ba25.js";import{r as S}from"./XCircleIcon-305a45eb.js";import{_ as V}from"./icon-publish-2375a513.js";import"./transition-ba5cebc1.js";import"./dialog-54d9d66a.js";import"./_plugin-vue_export-helper-c27b6911.js";function D(c,a){return s(),i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 1 0 0-16 8 8 0 0 0 0 16Zm3.857-9.809a.75.75 0 0 0-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 1 0-1.06 1.061l2.5 2.5a.75.75 0 0 0 1.137-.089l4-5.5Z","clip-rule":"evenodd"})])}function H(c,a){return s(),i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 1 1-16 0 8 8 0 0 1 16 0Zm-7-4a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM9 9a.75.75 0 0 0 0 1.5h.253a.25.25 0 0 1 .244.304l-.459 2.066A1.75 1.75 0 0 0 10.747 15H11a.75.75 0 0 0 0-1.5h-.253a.25.25 0 0 1-.244-.304l.459-2.066A1.75 1.75 0 0 0 9.253 9H9Z","clip-rule":"evenodd"})])}const I={class:"flex items-start gap-2"},R={class:"mt-0.5 shrink-0"},F={class:"flex-1 md:flex md:justify-between"},U={class:"text-sm"},W=C({__name:"alert",props:{variant:{default:"info"}},setup(c){const a=c,d=f(()=>({info:"bg-blue-50 border border-blue-500 text-blue-700",success:"bg-green-50 border border-green-500 text-green-700",warning:"bg-yellow-50 border border-yellow-500 text-yellow-700",error:"bg-red-50 border border-red-500 text-red-700"})[a.variant]),r=f(()=>({info:"text-blue-400",success:"text-green-400",warning:"text-yellow-400",error:"text-red-400"})[a.variant]),o=f(()=>({info:H,success:D,warning:N,error:S})[a.variant]);return(h,w)=>(s(),i("div",{class:x(["rounded-md px-2 py-2.5",[t(d)]])},[e("div",I,[e("div",R,[(s(),m(j(t(o)),{class:x(["size-4",t(r)]),"aria-hidden":"true"},null,8,["class"]))]),e("div",F,[e("p",U,[E(h.$slots,"default")])])])],2))}});function K(c,a){return s(),i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{d:"M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z"}),e("path",{d:"M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"})])}const q={key:0,class:"relative flex flex-col items-start justify-center gap-4 px-6 py-4"},G={class:"flex w-full items-start gap-4"},J={class:"flex size-16 shrink-0"},Q=e("div",{class:"flex-1"},[e("h3",{class:"text-xl font-semibold leading-6 text-gray-600"}," Publish Translations "),e("p",{class:"mt-1 text-sm text-gray-500"}," Be cautious when publishing, as this action will update your project with all translations and changes made in the database, overwriting project files. ")],-1),X={class:"w-full text-center"},Y=e("strong",null,"Warning:",-1),ee=e("span",null,"Download",-1),te={key:1,class:"relative flex flex-col items-start justify-center gap-4 px-6 py-4"},se=e("div",{class:"mx-auto flex size-12 shrink-0 items-center justify-center"},[e("span",{role:"img",class:"text-4xl"},"ðŸ¤”")],-1),ae=e("div",{class:"w-full text-center"},[e("h3",{class:"text-xl font-semibold leading-6 text-gray-600"}," What are you trying to do? "),e("p",{class:"mt-4 text-sm text-gray-500"}," Add languages to your project, then come back to publish translations when you're ready. ")],-1),oe=[se,ae],he=C({__name:"publish-translations",props:{canPublish:{type:Boolean},isProductionEnv:{type:Boolean}},setup(c){const a=T(),{close:d}=A(),r=k(!1),o=k(!1),h=()=>{r.value=!0,O.post(route("ltu.translation.export"),{},{preserveScroll:!0,onSuccess:()=>{r.value=!1,d()}})},w=()=>{o.value=!0,fetch(route("ltu.translation.download")).then(async n=>{let y=await n.blob();o.value=!1;const l=document.createElement("a"),_=window.URL.createObjectURL(y);l.download="lang.zip",l.href=_,document.body.appendChild(l),l.click(),document.body.removeChild(l),o.value=!1,d()}).catch(n=>{a.error("Something went wrong, please try again.",{icon:!0,position:L.BOTTOM_CENTER})})};return(n,y)=>{const l=M,_=V,P=W,g=z,B=$;return s(),i(Z,null,[u(l,{title:"Add Languages"}),u(B,{size:"lg"},{default:p(()=>[n.canPublish?(s(),i("div",q,[e("div",G,[e("div",J,[u(_,{class:"size-16 text-blue-300"})]),Q]),e("div",X,[n.isProductionEnv?b("",!0):(s(),m(P,{key:0,variant:"warning",class:"text-left"},{default:p(()=>[Y,v(" This is a Production Environment. Publishing translations will causing issues with version control and other developers, Please use the download button below instead. ")]),_:1})),n.isProductionEnv?b("",!0):(s(),m(g,{key:1,disabled:t(r)||t(o),"is-loading":t(o),variant:"dark",size:"lg",class:"mt-4","full-width":"",target:"_blank",onClick:w},{default:p(()=>[u(t(K),{class:"size-4"}),ee]),_:1},8,["disabled","is-loading"]))])])):(s(),i("div",te,oe)),e("div",{class:x(["grid grid-cols-1 gap-6 border-t px-6 py-4",{"md:grid-cols-2":n.canPublish}])},[u(g,{variant:"secondary",type:"button",size:"lg",tabindex:"1",onClick:t(d)},{default:p(()=>[v(" Close ")]),_:1},8,["onClick"]),n.canPublish?(s(),m(g,{key:0,variant:"primary",type:"button",size:"lg",disabled:t(r)||t(o),"is-loading":t(r),onClick:h},{default:p(()=>[v(" Publish ")]),_:1},8,["disabled","is-loading"])):b("",!0)],2)]),_:1})],64)}}});export{he as default};
